<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.8.0" />

	<title>Class killerCart\MercuryPay | Cart Documentation</title>

	<script type="text/javascript" src="resources/combined.js?1555823320"></script>
	<script type="text/javascript" src="elementlist.js?1266107672"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?3505392360" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Namespaces</h3>
			<ul>
				<li class="active"><a href="namespace-killerCart.html">killerCart</a>
						</li>
				<li><a href="namespace-PHP.html">PHP</a>
						</li>
			</ul>
		</div>

		<hr />


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-killerCart.Auth.html">Auth</a></li>
				<li><a href="class-killerCart.Cart.html">Cart</a></li>
				<li><a href="class-killerCart.Customer.html">Customer</a></li>
				<li><a href="class-killerCart.Database.html">Database</a></li>
				<li><a href="class-killerCart.Email.html">Email</a></li>
				<li><a href="class-killerCart.Error.html">Error</a></li>
				<li><a href="class-killerCart.Image.html">Image</a></li>
				<li class="active"><a href="class-killerCart.MercuryPay.html">MercuryPay</a></li>
				<li><a href="class-killerCart.Order.html">Order</a></li>
				<li><a href="class-killerCart.PaymentGateway.html">PaymentGateway</a></li>
				<li><a href="class-killerCart.Product.html">Product</a></li>
				<li><a href="class-killerCart.Product_Category.html">Product_Category</a></li>
				<li><a href="class-killerCart.Report.html">Report</a></li>
				<li><a href="class-killerCart.Sanitize.html">Sanitize</a></li>
				<li><a href="class-killerCart.SimpleImage.html">SimpleImage</a></li>
				<li><a href="class-killerCart.Store.html">Store</a></li>
				<li><a href="class-killerCart.User.html">User</a></li>
				<li><a href="class-killerCart.Util.html">Util</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-killerCart.html" title="Summary of killerCart"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
			<li>
				<a href="deprecated.html" title="List of deprecated elements"><span>Deprecated</span></a>
			</li>
			<li>
				<a href="todo.html" title="Todo list"><span>Todo</span></a>
			</li>
		</ul>
		<ul>
			<li>
				<a href="cart-documentation-api-documentation.zip" title="Download documentation as ZIP archive"><span>Download</span></a>
			</li>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class MercuryPay</h1>


	<div class="description">
	
<p>MercuryPay class</p>

<p>MercuryPay payment gateway methods</p>

<p>PHP version 5</p>

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-killerCart.Cart.html"><span>killerCart\Cart</span></a>
			
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by" />
<b><span>killerCart\MercuryPay</span></b>			
			
			
		</dd>
	</dl>








	<div class="info">
		
		
		<b>Namespace:</b> <a href="namespace-killerCart.html">killerCart</a><br />
		<b>Package:</b> Cart<br />

				<b>Category:</b>
				Cart<br />
				<b>Copyright:</b>
				2013 Goin' Postal Franchise Corporation<br />
				<b>License:</b>
				<a href="Private">Private</a><br />
				<b>Author:</b>
				Brock Hensley &lt;<a
href="mailto:brock.hensley&#64;gmail.com">brock.hensley&#64;<!---->gmail.com</a>&gt;<br />
				<b>Version:</b>
				Release: v1.0.1<br />
				<b>Since:</b>
				Class available since Release v1.0.1<br />
		<b>Located at</b> <a href="source-class-killerCart.MercuryPay.html#4-785" title="Go to source code">cart/lib/mercurypay.inc.php</a><br />
	</div>



	<table class="summary" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#21-28" title="Go to source code">__construct</a>( )</code>

		<div class="description short">
			
<p>__construct</p>

		</div>

		<div class="description detailed hidden">
			
<p>__construct</p>




				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br />
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code>trigger_error</code><br />
				</div>


				<h4>Overrides</h4>
				<div class="list"><code><a href="class-killerCart.Cart.html#___construct">killerCart\Cart::__construct()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="getSoapClient" id="_getSoapClient">

		<td class="attributes"><code>
			 public 
			boolean|<code><a href="class-SoapClient.html">SoapClient</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getSoapClient">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#30-54" title="Go to source code">getSoapClient</a>( <span>string <var>$wsdl</var></span> )</code>

		<div class="description short">
			
<p>getSoapClient</p>

		</div>

		<div class="description detailed hidden">
			
<p>getSoapClient</p>

<p>Initializes SOAP client with Merchant ID and Web Services Password</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$wsdl</var></dt>
					<dd><code>string</code><br>$wsdl WSDL</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean|<code><a href="class-SoapClient.html">SoapClient</a></code></code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="logHistory" id="_logHistory">

		<td class="attributes"><code>
			 public 
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_logHistory">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#56-107" title="Go to source code">logHistory</a>( <span>integer <var>$orderID</var></span>, <span>integer <var>$customerID</var></span>, <span>integer <var>$paymentMethodID</var></span>, <span>string <var>$action</var></span>, <span>string <var>$amount</var></span>, <span><code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code> <var>$returnCode</var></span>, <span><code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code> <var>$returnStatus</var></span>, <span><code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code> <var>$returnTextResponse</var></span>, <span>string <var>$returnMessage</var></span>, <span>string <var>$avsResult</var></span>, <span>string <var>$cvvResult</var></span>, <span>string <var>$authCode</var></span>, <span>string <var>$acqRefData</var></span>, <span>string <var>$refNo</var></span>, <span>mixed <var>$processData</var></span> )</code>

		<div class="description short">
			
<p>logHistory</p>

		</div>

		<div class="description detailed hidden">
			
<p>logHistory</p>

<p>Log MercuryPay history to database</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$orderID</var></dt>
					<dd><code>integer</code><br>$orderID Order ID</dd>
					<dt><var>$customerID</var></dt>
					<dd><code>integer</code><br>$customerID Customer ID</dd>
					<dt><var>$paymentMethodID</var></dt>
					<dd><code>integer</code><br>$paymentMethodID Payment method ID</dd>
					<dt><var>$action</var></dt>
					<dd><code>string</code><br>$action Action</dd>
					<dt><var>$amount</var></dt>
					<dd><code>string</code><br>$amount Amount</dd>
					<dt><var>$returnCode</var></dt>
					<dd><code><code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code></code><br>$returnCode Return code</dd>
					<dt><var>$returnStatus</var></dt>
					<dd><code><code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code></code><br>$returnStatus Return status</dd>
					<dt><var>$returnTextResponse</var></dt>
					<dd><code><code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code></code><br>$returnTextResponse Return TextResponse</dd>
					<dt><var>$returnMessage</var></dt>
					<dd><code>string</code><br>$returnMessage Return message</dd>
					<dt><var>$avsResult</var></dt>
					<dd><code>string</code><br>$avsResult AVS result</dd>
					<dt><var>$cvvResult</var></dt>
					<dd><code>string</code><br>$cvvResult CVV result</dd>
					<dt><var>$authCode</var></dt>
					<dd><code>string</code><br>$authCode Auth code</dd>
					<dt><var>$acqRefData</var></dt>
					<dd><code>string</code><br>$acqRefData AcqRefData</dd>
					<dt><var>$refNo</var></dt>
					<dd><code>string</code><br>$refNo RefNo</dd>
					<dt><var>$processData</var></dt>
					<dd></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getHistory" id="_getHistory">

		<td class="attributes"><code>
			 public 
			boolean|array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getHistory">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#109-140" title="Go to source code">getHistory</a>( <span>type <var>$orderID</var></span>, <span>type <var>$customerID</var></span> )</code>

		<div class="description short">
			
<p>getHistory</p>

		</div>

		<div class="description detailed hidden">
			
<p>getHistory</p>

<p>Gets transaction history used primarily for looking up declined transaction
reason</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$orderID</var></dt>
					<dd><code>type</code><br>$orderID Order ID</dd>
					<dt><var>$customerID</var></dt>
					<dd><code>type</code><br>$customerID Customer ID</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean|array</code><br>History details<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getPaymentMethodLastCodes" id="_getPaymentMethodLastCodes">

		<td class="attributes"><code>
			 public 
			boolean|array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getPaymentMethodLastCodes">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#142-172" title="Go to source code">getPaymentMethodLastCodes</a>( <span>integer <var>$paymentMethodID</var></span> )</code>

		<div class="description short">
			
<p>getPaymentMethodLastCodes</p>

		</div>

		<div class="description detailed hidden">
			
<p>getPaymentMethodLastCodes</p>

<p>Gets last codes for payment method for subsequent byRecordNo use</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$paymentMethodID</var></dt>
					<dd><code>integer</code><br>$paymentMethodID</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean|array</code><br />
				</div>


				<h4>Since</h4>
				<div class="list">
						v1.0.3<br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="logToken" id="_logToken">

		<td class="attributes"><code>
			 public 
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_logToken">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#174-206" title="Go to source code">logToken</a>( <span>integer <var>$customerID</var></span>, <span>integer <var>$paymentMethodID</var></span>, <span>string <var>$frequency</var></span>, <span><code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code> <var>$recordNo</var></span> )</code>

		<div class="description short">
			
<p>logToken</p>

		</div>

		<div class="description detailed hidden">
			
<p>logToken</p>

<p>Logs MToken for payment method</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$customerID</var></dt>
					<dd><code>integer</code><br>$customerID Customer ID</dd>
					<dt><var>$paymentMethodID</var></dt>
					<dd><code>integer</code><br>$paymentMethodID Payment Method ID</dd>
					<dt><var>$frequency</var></dt>
					<dd><code>string</code><br>$frequency Frequency</dd>
					<dt><var>$recordNo</var></dt>
					<dd><code><code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code></code><br>$recordNo RecordNo</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br>True on success<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getToken" id="_getToken">

		<td class="attributes"><code>
			 public 
			boolean|array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getToken">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#208-236" title="Go to source code">getToken</a>( <span>integer <var>$customerID</var></span>, <span>integer <var>$paymentMethodID</var></span> )</code>

		<div class="description short">
			
<p>getToken</p>

		</div>

		<div class="description detailed hidden">
			
<p>getToken</p>

<p>Gets MToken for payment method</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$customerID</var></dt>
					<dd><code>integer</code><br>$customerID Customer ID</dd>
					<dt><var>$paymentMethodID</var></dt>
					<dd><code>integer</code><br>$paymentMethodID Payment Method ID</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean|array</code><br>False if no history otherwise array of data<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="preparePreAuthRequest" id="_preparePreAuthRequest">

		<td class="attributes"><code>
			 public 
			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_preparePreAuthRequest">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#238-317" title="Go to source code">preparePreAuthRequest</a>( <span>string <var>$merchantID</var></span>, <span>string <var>$operatorID</var></span>, <span>string <var>$tranType</var></span>, <span>string <var>$tranCode</var></span>, <span>string <var>$invoiceNo</var></span>, <span>string <var>$memo</var></span>, <span>string <var>$freq</var></span>, <span>string <var>$number1</var></span>, <span>string <var>$number2</var></span>, <span>string <var>$ccExpMo</var></span>, <span>string <var>$ccExpYr</var></span>, <span>string <var>$ccAddress</var></span>, <span>string <var>$ccZip</var></span>, <span>string <var>$amount</var></span>, <span>string <var>$paymentMethodToken</var> = <span class="php-keyword1">NULL</span></span>, <span>string <var>$authCode</var> = <span class="php-keyword1">NULL</span></span>, <span>string <var>$acqRefData</var> = <span class="php-keyword1">NULL</span></span> )</code>

		<div class="description short">
			
<p>preparePreAuthRequest</p>

		</div>

		<div class="description detailed hidden">
			
<p>preparePreAuthRequest</p>

<p>Prepares XML for PreAuth transaction, handles both new payment methods and
existing tokens</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$merchantID</var></dt>
					<dd><code>string</code><br>$merchantID Merchant ID</dd>
					<dt><var>$operatorID</var></dt>
					<dd><code>string</code><br>$operatorID Operator ID</dd>
					<dt><var>$tranType</var></dt>
					<dd><code>string</code><br>$tranType Tran Type</dd>
					<dt><var>$tranCode</var></dt>
					<dd><code>string</code><br>$tranCode Tran Code</dd>
					<dt><var>$invoiceNo</var></dt>
					<dd><code>string</code><br>$invoiceNo Invoice No - doubles as RefNo</dd>
					<dt><var>$memo</var></dt>
					<dd><code>string</code><br>$memo Memo</dd>
					<dt><var>$freq</var></dt>
					<dd><code>string</code><br>$freq Freq</dd>
					<dt><var>$number1</var></dt>
					<dd><code>string</code><br>$number1 Number 1</dd>
					<dt><var>$number2</var></dt>
					<dd><code>string</code><br>$number2 Number 2</dd>
					<dt><var>$ccExpMo</var></dt>
					<dd><code>string</code><br>$ccExpMo Expiration Month</dd>
					<dt><var>$ccExpYr</var></dt>
					<dd><code>string</code><br>$ccExpYr Expiration Year</dd>
					<dt><var>$ccAddress</var></dt>
					<dd><code>string</code><br>$ccAddress Address</dd>
					<dt><var>$ccZip</var></dt>
					<dd><code>string</code><br>$ccZip Zip</dd>
					<dt><var>$amount</var></dt>
					<dd><code>string</code><br>$amount Amount</dd>
					<dt><var>$paymentMethodToken</var></dt>
					<dd><code>string</code><br>$paymentMethodToken Optional Token to use instead of new details</dd>
					<dt><var>$authCode</var></dt>
					<dd><code>string</code><br>$authCode Optional if using recordNo</dd>
					<dt><var>$acqRefData</var></dt>
					<dd><code>string</code><br>$acqRefData Optional if using recordNo</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>$xml XML formatted PreAuth request<br />
				</div>


				<h4>Version</h4>
				<div class="list">
						v1.0.3<br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="preparePreAuthCaptureRequest" id="_preparePreAuthCaptureRequest">

		<td class="attributes"><code>
			 public 
			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_preparePreAuthCaptureRequest">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#319-368" title="Go to source code">preparePreAuthCaptureRequest</a>( <span>string <var>$merchantID</var></span>, <span>string <var>$operatorID</var></span>, <span>string <var>$tranType</var></span>, <span>string <var>$tranCode</var></span>, <span>string <var>$invoiceNo</var></span>, <span>string <var>$memo</var></span>, <span>string <var>$recordNo</var></span>, <span>string <var>$freq</var></span>, <span>string <var>$totalAmount</var></span>, <span>string <var>$authAmount</var></span>, <span>string <var>$authCode</var></span>, <span>string <var>$acqRefData</var></span> )</code>

		<div class="description short">
			
<p>preparePreAuthCaptureRequest</p>

		</div>

		<div class="description detailed hidden">
			
<p>preparePreAuthCaptureRequest</p>

<p>Prepares XML for PreAuth transaction</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$merchantID</var></dt>
					<dd><code>string</code><br>$merchantID Merchant ID</dd>
					<dt><var>$operatorID</var></dt>
					<dd><code>string</code><br>$operatorID Operator ID</dd>
					<dt><var>$tranType</var></dt>
					<dd><code>string</code><br>$tranType Tran Type</dd>
					<dt><var>$tranCode</var></dt>
					<dd><code>string</code><br>$tranCode Tran Code</dd>
					<dt><var>$invoiceNo</var></dt>
					<dd><code>string</code><br>$invoiceNo Invoice No - doubles as RefNo</dd>
					<dt><var>$memo</var></dt>
					<dd><code>string</code><br>$memo Memo</dd>
					<dt><var>$recordNo</var></dt>
					<dd><code>string</code><br>$recordNo Record No</dd>
					<dt><var>$freq</var></dt>
					<dd><code>string</code><br>$freq Frequency</dd>
					<dt><var>$totalAmount</var></dt>
					<dd><code>string</code><br>$totalAmount Total Amount</dd>
					<dt><var>$authAmount</var></dt>
					<dd><code>string</code><br>$authAmount Authorized Amount</dd>
					<dt><var>$authCode</var></dt>
					<dd><code>string</code><br>$authCode Auth Code</dd>
					<dt><var>$acqRefData</var></dt>
					<dd><code>string</code><br>$acqRefData AcqRefData</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>$xml XML formatted PreAuthCapture request<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="creditTransaction" id="_creditTransaction">

		<td class="attributes"><code>
			 public 
			boolean|<code><a href="class-SoapClient.html">SoapClient</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_creditTransaction">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#370-394" title="Go to source code">creditTransaction</a>( <span><code><a href="class-SoapClient.html">SoapClient</a></code> <var>$client</var></span>, <span>string <var>$xml</var></span>, <span>string <var>$pass</var></span> )</code>

		<div class="description short">
			
<p>creditTransaction</p>

		</div>

		<div class="description detailed hidden">
			
<p>creditTransaction</p>

<p>Executes prepared XML statement</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$client</var></dt>
					<dd><code><code><a href="class-SoapClient.html">SoapClient</a></code></code><br>$client SoapClient</dd>
					<dt><var>$xml</var></dt>
					<dd><code>string</code><br>$xml XML formatted string</dd>
					<dt><var>$pass</var></dt>
					<dd><code>string</code><br>$pass WebServicesPassphrase</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean|<code><a href="class-SoapClient.html">SoapClient</a></code></code><br>CreditTransactionResult<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="prepareVoidSaleRequest" id="_prepareVoidSaleRequest">

		<td class="attributes"><code>
			 public 
			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_prepareVoidSaleRequest">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#396-449" title="Go to source code">prepareVoidSaleRequest</a>( <span>string <var>$merchantID</var></span>, <span>string <var>$operatorID</var></span>, <span>string <var>$tranType</var></span>, <span>string <var>$tranCode</var></span>, <span>string <var>$invoiceNo</var></span>, <span>string <var>$memo</var></span>, <span>string <var>$recordNo</var></span>, <span>string <var>$freq</var></span>, <span>string <var>$totalAmount</var></span>, <span>string <var>$authAmount</var></span>, <span>string <var>$authCode</var></span>, <span>string <var>$acqRefData</var> = <span class="php-keyword1">false</span></span>, <span>string <var>$processData</var> = <span class="php-keyword1">false</span></span> )</code>

		<div class="description short">
			
<p>prepareVoidSaleRequest</p>

		</div>

		<div class="description detailed hidden">
			
<p>prepareVoidSaleRequest</p>

<p>Prepares XML request for Reversal/VoidSale</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$merchantID</var></dt>
					<dd><code>string</code><br>$merchantID Merchant ID</dd>
					<dt><var>$operatorID</var></dt>
					<dd><code>string</code><br>$operatorID Operator ID</dd>
					<dt><var>$tranType</var></dt>
					<dd><code>string</code><br>$tranType Tran Type</dd>
					<dt><var>$tranCode</var></dt>
					<dd><code>string</code><br>$tranCode Tran Code</dd>
					<dt><var>$invoiceNo</var></dt>
					<dd><code>string</code><br>$invoiceNo Invoice No</dd>
					<dt><var>$memo</var></dt>
					<dd><code>string</code><br>$memo Memo</dd>
					<dt><var>$recordNo</var></dt>
					<dd><code>string</code><br>$recordNo Record No</dd>
					<dt><var>$freq</var></dt>
					<dd><code>string</code><br>$freq Frequency</dd>
					<dt><var>$totalAmount</var></dt>
					<dd><code>string</code><br>$totalAmount Total Amount</dd>
					<dt><var>$authAmount</var></dt>
					<dd><code>string</code><br>$authAmount Authorized Amount</dd>
					<dt><var>$authCode</var></dt>
					<dd><code>string</code><br>$authCode Auth Code</dd>
					<dt><var>$acqRefData</var></dt>
					<dd><code>string</code><br>$acqRefData Optional - required for Reversal, omit for VoidSale</dd>
					<dt><var>$processData</var></dt>
					<dd><code>string</code><br>$processData Optional - required for Reversal, omit for VoidSale</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>$xml XML formatted request<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="prepareReturnRequest" id="_prepareReturnRequest">

		<td class="attributes"><code>
			 public 
			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_prepareReturnRequest">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#451-491" title="Go to source code">prepareReturnRequest</a>( <span>string <var>$merchantID</var></span>, <span>string <var>$operatorID</var></span>, <span>string <var>$tranType</var></span>, <span>string <var>$tranCode</var></span>, <span>string <var>$invoiceNo</var></span>, <span>string <var>$memo</var></span>, <span>string <var>$recordNo</var></span>, <span>string <var>$freq</var></span>, <span>string <var>$totalAmount</var></span> )</code>

		<div class="description short">
			
<p>prepareReturnRequest</p>

		</div>

		<div class="description detailed hidden">
			
<p>prepareReturnRequest</p>

<p>Prepares XML request for Return/Refund</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$merchantID</var></dt>
					<dd><code>string</code><br>$merchantID Merchant ID</dd>
					<dt><var>$operatorID</var></dt>
					<dd><code>string</code><br>$operatorID Operator ID</dd>
					<dt><var>$tranType</var></dt>
					<dd><code>string</code><br>$tranType Tran Type</dd>
					<dt><var>$tranCode</var></dt>
					<dd><code>string</code><br>$tranCode Tran Code</dd>
					<dt><var>$invoiceNo</var></dt>
					<dd><code>string</code><br>$invoiceNo Invoice No - doubles as RefNo</dd>
					<dt><var>$memo</var></dt>
					<dd><code>string</code><br>$memo Memo</dd>
					<dt><var>$recordNo</var></dt>
					<dd><code>string</code><br>$recordNo Record No</dd>
					<dt><var>$freq</var></dt>
					<dd><code>string</code><br>$freq Frequency</dd>
					<dt><var>$totalAmount</var></dt>
					<dd><code>string</code><br>$totalAmount Total Amount</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>$xml XML formatted request<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="orderHasAttemptedReversal" id="_orderHasAttemptedReversal">

		<td class="attributes"><code>
			 public 
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_orderHasAttemptedReversal">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#493-522" title="Go to source code">orderHasAttemptedReversal</a>( <span>integer <var>$orderID</var></span>, <span>integer <var>$customerID</var></span> )</code>

		<div class="description short">
			
<p>orderHasAttemptedReversal</p>

		</div>

		<div class="description detailed hidden">
			
<p>orderHasAttemptedReversal</p>

<p>Checks if order has attempted a reversal</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$orderID</var></dt>
					<dd><code>integer</code><br>$orderID Order ID</dd>
					<dt><var>$customerID</var></dt>
					<dd><code>integer</code><br>$customerID Customer ID</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br>True if has attempted reversal previously<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getMercuryPayChangelog" id="_getMercuryPayChangelog">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getMercuryPayChangelog">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#524-551" title="Go to source code">getMercuryPayChangelog</a>( <span>integer <var>$orderID</var></span>, <span>integer <var>$customerID</var></span> )</code>

		<div class="description short">
			
<p>getMercuryPayChangelog</p>

		</div>

		<div class="description detailed hidden">
			
<p>getMercuryPayChangelog</p>

<p>Gets orders MercuryPay transactions history</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$orderID</var></dt>
					<dd><code>integer</code><br>$orderID Order ID</dd>
					<dt><var>$customerID</var></dt>
					<dd><code>integer</code><br>$customerID Customer ID</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>Changelog details<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="convertReponseToXML" id="_convertReponseToXML">

		<td class="attributes"><code>
			 public 
			<code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_convertReponseToXML">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#553-566" title="Go to source code">convertReponseToXML</a>( <span>string <var>$res</var></span> )</code>

		<div class="description short">
			
<p>convertReponseToXML</p>

		</div>

		<div class="description detailed hidden">
			
<p>convertReponseToXML</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$res</var></dt>
					<dd><code>string</code><br>$res Response from API</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code></code><br>Response as XML object for reading<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getCmdResponseMsgByCode" id="_getCmdResponseMsgByCode">

		<td class="attributes"><code>
			 public 
			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getCmdResponseMsgByCode">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#568-664" title="Go to source code">getCmdResponseMsgByCode</a>( <span>string <var>$code</var></span> )</code>

		<div class="description short">
			
<p>getCmdResponseMsgByCode</p>

		</div>

		<div class="description detailed hidden">
			
<p>getCmdResponseMsgByCode</p>

<p>Gets the description of the provided response code</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$code</var></dt>
					<dd><code>string</code><br>$code DSI return code</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>Code description<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getCmdResponseMsg" id="_getCmdResponseMsg">

		<td class="attributes"><code>
			 public 
			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getCmdResponseMsg">#</a>
		<code><a href="source-class-killerCart.MercuryPay.html#666-783" title="Go to source code">getCmdResponseMsg</a>( <span><code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code> <var>$cmdStatus</var></span>, <span>string <var>$textResponse</var></span> )</code>

		<div class="description short">
			
<p>getCmdResponseMsg</p>

		</div>

		<div class="description detailed hidden">
			
<p>getCmdResponseMsg</p>

<p>Evaluate CreditTransactionResult according to pg 27 of integration guide</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$cmdStatus</var></dt>
					<dd><code><code><a href="class-SimpleXMLElement.html">SimpleXMLElement</a></code></code><br>$cmdStatus CmdStatus</dd>
					<dt><var>$textResponse</var></dt>
					<dd><code>string</code><br>$textResponse TextResponse</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>$msg Response message<br />
				</div>


				<h4>Version</h4>
				<div class="list">
						v1.0.3<br />
				</div>


		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-killerCart.Cart.html#methods">killerCart\Cart</a></caption>
	<tr>
		<td><code>
			<a href="class-killerCart.Cart.html#___destruct">__destruct()</a>, 
			<a href="class-killerCart.Cart.html#___get">__get()</a>, 
			<a href="class-killerCart.Cart.html#___isset">__isset()</a>, 
			<a href="class-killerCart.Cart.html#___set">__set()</a>, 
			<a href="class-killerCart.Cart.html#_calcCartTaxRate">calcCartTaxRate()</a>, 
			<a href="class-killerCart.Cart.html#_calcCartTaxable">calcCartTaxable()</a>, 
			<a href="class-killerCart.Cart.html#_calcCartTotal">calcCartTotal()</a>, 
			<a href="class-killerCart.Cart.html#_createAddress">createAddress()</a>, 
			<a href="class-killerCart.Cart.html#_createCustomerID">createCustomerID()</a>, 
			<a href="class-killerCart.Cart.html#_createOrder">createOrder()</a>, 
			<a href="class-killerCart.Cart.html#_decrypt">decrypt()</a>, 
			<a href="class-killerCart.Cart.html#_detectCreditCardType">detectCreditCardType()</a>, 
			<a href="class-killerCart.Cart.html#_emptyCart">emptyCart()</a>, 
			<a href="class-killerCart.Cart.html#_encrypt">encrypt()</a>, 
			<a href="class-killerCart.Cart.html#_getCartAddressTypes">getCartAddressTypes()</a>, 
			<a href="class-killerCart.Cart.html#_getCartPaymentMethods">getCartPaymentMethods()</a>, 
			<a href="class-killerCart.Cart.html#_getStoreInfo">getStoreInfo()</a>, 
			<a href="class-killerCart.Cart.html#_getStoreName"><span class="deprecated">getStoreName()</span></a>, 
			<a href="class-killerCart.Cart.html#_getStoreTheme"><span class="deprecated">getStoreTheme()</span></a>, 
			<a href="class-killerCart.Cart.html#_prepareOrderCustomerEmail">prepareOrderCustomerEmail()</a>, 
			<a href="class-killerCart.Cart.html#_prepareOrderStoreEmail">prepareOrderStoreEmail()</a>, 
			<a href="class-killerCart.Cart.html#_recordOrder">recordOrder()</a>, 
			<a href="class-killerCart.Cart.html#_removeCookies">removeCookies()</a>, 
			<a href="class-killerCart.Cart.html#_removeProductFromCart">removeProductFromCart()</a>, 
			<a href="class-killerCart.Cart.html#_sanitizePost">sanitizePost()</a>, 
			<a href="class-killerCart.Cart.html#_saveCustomerAddress">saveCustomerAddress()</a>, 
			<a href="class-killerCart.Cart.html#_saveCustomerInfo">saveCustomerInfo()</a>, 
			<a href="class-killerCart.Cart.html#_saveCustomerPaymentMethod">saveCustomerPaymentMethod()</a>, 
			<a href="class-killerCart.Cart.html#_saveOrderPaymentMethodID">saveOrderPaymentMethodID()</a>, 
			<a href="class-killerCart.Cart.html#_savePaymentMethod">savePaymentMethod()</a>, 
			<a href="class-killerCart.Cart.html#_saveSession">saveSession()</a>, 
			<a href="class-killerCart.Cart.html#_setBillingAVS">setBillingAVS()</a>, 
			<a href="class-killerCart.Cart.html#_setBillingAddressID">setBillingAddressID()</a>, 
			<a href="class-killerCart.Cart.html#_setEmailTo">setEmailTo()</a>, 
			<a href="class-killerCart.Cart.html#_updateProductOptionInCart">updateProductOptionInCart()</a>, 
			<a href="class-killerCart.Cart.html#_updateProductQtyInCart">updateProductQtyInCart()</a>
		</code></td>
	</tr>
	</table>












	<table class="summary inherited">
	<caption>Properties inherited from <a href="class-killerCart.Cart.html#properties">killerCart\Cart</a></caption>
	<tr>
		<td><code>
			<a href="class-killerCart.Cart.html#$DB"><var>$DB</var></a>, 
			<a href="class-killerCart.Cart.html#$data"><var>$data</var></a>, 
			<a href="class-killerCart.Cart.html#$sql"><var>$sql</var></a>, 
			<a href="class-killerCart.Cart.html#$sqlData"><var>$sqlData</var></a>
		</code></td>
	</tr>
	</table>





</div>

	<div id="footer">
		Cart Documentation API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</div>
</body>
</html>
